(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(8),r=a.n(c),s=(a(14),a(2)),o=a(3),l=a(6),u=a(4),d=a(5),m=(a(16),a(1)),h=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={subreddit:""},e._updateSubreddit=e._updateSubreddit.bind(Object(m.a)(Object(m.a)(e))),e._sendSubreddit=e._sendSubreddit.bind(Object(m.a)(Object(m.a)(e))),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"_updateSubreddit",value:function(e){this.setState({subreddit:e.target.value})}},{key:"_sendSubreddit",value:function(e){e.preventDefault(),(0,this.props.sendSubreddit)(this.state.subreddit)}},{key:"render",value:function(){return i.a.createElement("section",{id:"subreddit-choice",className:"container"},i.a.createElement("div",{className:"sub-choice"},i.a.createElement("header",{className:"sub-choice__header"},"Welcome to Reddit Image Viewer"),i.a.createElement("p",{className:"sub-choice__instruction"},"Feel free to type your favorite subreddit below"),i.a.createElement("form",{className:"choice-form"},i.a.createElement("input",{className:"choice-form__input",type:"text",value:this.state.subreddit,onChange:this._updateSubreddit,placeholder:"e.g. funny"}),i.a.createElement("button",{className:"choice-form__submit",type:"submit",onClick:this._sendSubreddit},"Find images!")),i.a.createElement("span",{className:"sub-choice__note"},"Please keep in mind, that some of the subreddits contain few or none images.")))}}]),t}(n.Component),b=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={voting:0},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.item;this.setState({voting:e.data.ups-e.data.downs})}},{key:"render",value:function(){var e=this.props.item,t=this.state.voting;return i.a.createElement("div",{className:"eachImage"},i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.reddit.com".concat(e.data.permalink)},i.a.createElement("img",{className:"eachImage__image",alt:"",src:e.data.url})),i.a.createElement("p",{className:"eachImage__title"},e.data.title),i.a.createElement("div",{className:"voting"},t>=0?i.a.createElement("span",{className:"voting__up"},t>0&&"+",this.state.voting):i.a.createElement("span",{className:"voting__down"},"-",this.state.voting)))}}]),t}(n.Component),p=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={scrolledFromTop:0},e._scrollToTop=e._scrollToTop.bind(Object(m.a)(Object(m.a)(e))),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.onscroll=function(){e.setState({scrolledFromTop:window.scrollY})}}},{key:"_scrollToTop",value:function(){window.scroll({top:0,behavior:"smooth"})}},{key:"render",value:function(){var e=this.props.posts,t=this.state.scrolledFromTop;return i.a.createElement("section",{id:"images-list",className:"imagesList"},e.map(function(e,t){return i.a.createElement(b,{key:t,item:e})}),t>200&&i.a.createElement("button",{className:"imagesList__scrolltop",onClick:this._scrollToTop},"Up!"))}}]),t}(n.Component),f=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"loader"},i.a.createElement("div",{class:"lds-ellipsis"},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null)))}}]),t}(n.Component),v=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={posts:[],subreddit:"",loading:!1},e._fetchApi=e._fetchApi.bind(Object(m.a)(Object(m.a)(e))),e._saveSubreddit=e._saveSubreddit.bind(Object(m.a)(Object(m.a)(e))),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"_fetchApi",value:function(){var e=this,t=this.state.subreddit;this.setState({posts:[],loading:!0});var a=[],n="",i=0;!function c(){var r="https://www.reddit.com/r/".concat(t,"/new/.json?limit=100"),s="https://www.reddit.com/r/".concat(t,"/new/.json?after=").concat(n,"&limit=100/");fetch(n?s:r).then(function(e){return e.json()}).then(function(t){t.data.children.forEach(function(e){null!=e.data.url.match(/\.(jpeg|jpg|gif|png)$/)&&a.length<50&&a.push(e)}),e.setState({posts:a}),a.length<50&&t.data.after&&i<15?(n=t.data.after,i++,c()):0===a.length?(alert("No results, please try another subreddit."),e.setState({loading:!1})):(n="",e.setState({loading:!1}))}).catch(function(t){alert("Something went wrong",t),e.setState({loading:!1})})}()}},{key:"_saveSubreddit",value:function(e){var t=this;this.setState({subreddit:e},function(){t._fetchApi()})}},{key:"render",value:function(){var e=this.state,t=e.posts,a=e.loading;return i.a.createElement("main",null,i.a.createElement(h,{sendSubreddit:this._saveSubreddit}),a?i.a.createElement(f,null):i.a.createElement(p,{posts:t}))}}]),t}(n.Component),j=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(v,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(19)}},[[9,2,1]]]);
//# sourceMappingURL=main.0d84f770.chunk.js.map